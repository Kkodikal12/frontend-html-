<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Sangam · Matrimonial for Indian Languages</title>
  <style>
    :root{
      --bg1:#f73e3b; --bg2:#e7f569; --card: rgba(255,255,255,0.85);
      --text:#1a1a1a; --muted:#4b5563; --border:#e5e7eb;
      --brand:#22c55e; --brand2:#a855f7; --input:#f7903b;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Inter,Arial,sans-serif;background:linear-gradient(180deg,var(--bg1),var(--bg2));color:var(--text)}
    .app{max-width:1100px;margin:0 auto;display:flex;flex-direction:column;min-height:100vh}

    header{position:sticky;top:0;z-index:20;background:rgba(255,255,255,.55);backdrop-filter:blur(8px);border-bottom:1px solid var(--border)}
    .topbar{display:flex;align-items:center;gap:.8rem;padding:.8rem 1rem}
    .logo{width:38px;height:38px;border-radius:12px;display:grid;place-items:center;font-weight:900;color:#091121;background:radial-gradient(circle at 30% 30%,var(--brand),var(--brand2))}
    .brand{line-height:1}
    .brand h1{font-size:1.05rem;margin:0}
    .brand small{color:var(--muted)}
    .spacer{flex:1}
    .lang{display:flex;gap:.4rem;align-items:center}
    .lang select{background:#fff;color:var(--text);border:1px solid var(--border);border-radius:10px;padding:.4rem .6rem}

    main{flex:1;padding:1rem}
    .screen{display:none}
    .screen.active{display:block}
    .card{background:var(--card);border:1px solid var(--border);border-radius:16px;padding:1rem;box-shadow:0 10px 30px rgba(0,0,0,.12)}
    .hero{padding:1rem;text-align:center}
    .hero h2{font-size:clamp(1.6rem,3vw,2.2rem);margin:.2rem 0 .6rem}
    .pill{display:inline-block;border:1px solid var(--border);border-radius:999px;padding:.35rem .7rem;margin:.25rem;color:var(--muted);font-size:.85rem;background:#fff}

    .grid{display:grid;gap:1rem}
    @media(min-width:700px){.grid.cols-2{grid-template-columns:1fr 1fr}}

    form{display:grid;gap:.9rem}
    .row{display:grid;gap:.9rem}
    @media(min-width:640px){.row.two{grid-template-columns:1fr 1fr}.row.three{grid-template-columns:1fr 1fr 1fr}}

    label{font-weight:700}
    input,select,textarea{width:100%;padding:.75rem .85rem;border-radius:12px;border:1px solid #d1d5db;background:var(--input);color:#111}
    select[multiple]{min-height:8rem}
    ::placeholder{color:#3f3f46}
    .hint{font-size:.85rem;color:#374151}
    .btn{appearance:none;border:1px solid #d1d5db;background:linear-gradient(180deg,rgba(34,197,94,.18),rgba(168,85,247,.18));color:#111;padding:.8rem 1rem;border-radius:12px;font-weight:800;cursor:pointer}
    .btn.secondary{background:#fff}
    .btn.small{padding:.5rem .7rem;border-radius:10px}

    .tabs{position:sticky;bottom:0;z-index:30;background:rgba(255,255,255,.7);backdrop-filter:blur(8px);border-top:1px solid var(--border)}
    .bar{display:grid;grid-template-columns:repeat(3,1fr)}
    .tab-btn{display:grid;place-items:center;padding:.85rem 0;color:#374151;font-weight:800;letter-spacing:.2px;border-right:1px solid var(--border);cursor:pointer;background:transparent}
    .tab-btn:last-child{border-right:none}
    .tab-btn.active{color:#111;background:linear-gradient(180deg,rgba(34,197,94,.08),rgba(168,85,247,.06))}

    .people{display:grid;gap:1rem}
    @media(min-width:720px){.people{grid-template-columns:repeat(2,1fr)}}
    @media(min-width:980px){.people{grid-template-columns:repeat(3,1fr)}}
    .person{border:1px solid var(--border);border-radius:16px;overflow:hidden;background:#fff}
    .person img{width:100%;height:180px;object-fit:cover;display:block}
    .person .meta{padding:.7rem}
    .person .meta h4{margin:.1rem 0 .3rem}
    .tags{display:flex;flex-wrap:wrap;gap:.35rem}
    .tag{border:1px solid var(--border);border-radius:999px;padding:.15rem .5rem;font-size:.8rem;color:#374151;background:#fff}

    .toast{position:fixed;right:1rem;bottom:4.2rem;background:#fff;border:1px solid var(--border);padding:.7rem 1rem;border-radius:12px;display:none;color:#111}
    .divider{height:1px;background:linear-gradient(90deg,transparent,#d1d5db,transparent);margin:.7rem 0}

    /* Language picker modal */
    .modal{position:fixed;inset:0;background:rgba(0,0,0,.35);display:none;align-items:center;justify-content:center;z-index:40}
    .modal .panel{background:#fff;color:#111;border-radius:16px;border:1px solid #e5e7eb;max-width:520px;width:92%;padding:1rem}
    .modal h3{margin-top:0}
  </style>
</head>
<body>
  <div class="app" id="app">
    <header>
      <div class="topbar">
        <div class="logo">S</div>
        <div class="brand">
          <h1>Sangam</h1>
          <small data-i18n="subtitle">Matrimonial for Indian language speakers</small>
        </div>
        <div class="spacer"></div>
        <div class="lang" title="Interface language">
          <label class="hint" for="uiLang">UI</label>
          <select id="uiLang">
            <option value="en">English</option>
            <option value="hi">हिन्दी</option>
            <option value="ta">தமிழ்</option>
            <option value="kok">कोकणी</option>
          </select>
        </div>
      </div>
    </header>

    <main>
      <!-- Screen 1: Mission -->
      <section id="screen-mission" class="screen active">
        <div class="hero card">
          <h2 data-i18n="mission_h">Where language, values, and families come together</h2>
          <p data-i18n="mission_p1">Our mission here at Sangam is to bring people together from around the world, while respecting culture and ensuring safety.</p>
          <p data-i18n="mission_p2">We believe great matches start with respect. That’s why Sangam prioritizes verified profiles (your real face photo), thoughtful discovery by language and region, and privacy by design. You’re in control of what you share, with whom, and when.</p>
          <div class="pill" data-i18n="pill_1">Inclusive across Indian languages</div>
          <div class="pill" data-i18n="pill_2">Privacy‑first</div>
          <div class="pill" data-i18n="pill_3">Verified</div>
        </div>

        <div class="grid cols-2" style="margin-top:1rem;">
          <div class="card">
            <h3 data-i18n="quick_demo">Quick demo</h3>
            <ol class="hint">
              <li data-i18n="qd1">Create a profile on the Register tab.</li>
              <li data-i18n="qd2">Try filters and see sample profiles.</li>
              <li data-i18n="qd3">Everything saves locally (no server yet).</li>
            </ol>
          </div>
          <div class="card">
            <h3 data-i18n="safety">Safety</h3>
            <p class="hint" data-i18n="safety_p">We require a clear face photo, easy report/block, and transparent data controls.</p>
          </div>
        </div>

        <div class="card" style="margin-top:1rem;">
          <h3 data-i18n="discover">Discover people (sample)</h3>
          <div class="row two">
            <div>
              <label data-i18n="lang_label">Language</label>
              <select id="homeLang">
                <option value="">— Any —</option>
                <option>Assamese</option><option>Bengali</option><option>English</option><option>Gujarati</option>
                <option>Hindi</option><option>Kannada</option><option>Konkani</option>
                <option>Malayalam</option><option>Marathi</option><option>Odia</option>
                <option>Punjabi</option><option>Sindhi</option><option>Tamil</option>
                <option>Telugu</option><option>Tulu</option><option>Urdu</option>
              </select>
            </div>
            <div>
              <label data-i18n="city">City</label>
              <input id="homeCity" placeholder="e.g., Chennai" />
            </div>
          </div>
          <div class="row two">
            <button class="btn small" id="homeSearch" data-i18n="search_btn">Search</button>
            <button class="btn small secondary" id="homeClear" data-i18n="clear_btn">Clear</button>
          </div>
          <div class="divider"></div>
          <div id="homeResults" class="people"></div>
        </div>
      </section>

      <!-- Screen 2: Register -->
      <section id="screen-register" class="screen">
        <div class="card">
          <h2 data-i18n="create_profile">Create your profile</h2>
          <form id="registerForm" novalidate>
            <div class="row two">
              <div>
                <label for="firstName" data-i18n="first_name">First name*</label>
                <input id="firstName" name="firstName" required placeholder="Aisha" autocomplete="given-name" />
              </div>
              <div>
                <label for="lastName" data-i18n="last_name">Last name*</label>
                <input id="lastName" name="lastName" required placeholder="Rao" autocomplete="family-name" />
              </div>
            </div>

            <div class="row three">
              <div>
                <label for="age" data-i18n="age">Age* (18–99)</label>
                <input id="age" name="age" type="number" min="18" max="99" required placeholder="28" />
              </div>
              <div>
                <label for="city" data-i18n="city">City*</label>
                <input id="city" name="city" required placeholder="Bengaluru" />
              </div>
              <div>
                <label for="state" data-i18n="state">State/Province*</label>
                <input id="state" name="state" required placeholder="Karnataka" />
              </div>
            </div>

            <div class="row three">
              <div>
                <label for="country" data-i18n="country">Country*</label>
                <input id="country" name="country" required placeholder="India" />
              </div>
              <div>
                <label for="phone" data-i18n="phone">Phone number*</label>
                <input id="phone" name="phone" type="tel" required placeholder="+91 98765 43210" />
              </div>
              <div>
                <label for="email" data-i18n="email">Email address*</label>
                <input id="email" name="email" type="email" required placeholder="you@example.com" />
              </div>
            </div>

            <div class="row two">
              <div>
                <label for="languages" data-i18n="main_langs">Main languages you speak* (multi‑select)</label>
                <select id="languages" name="languages" multiple required>
                  <option>Assamese</option><option>Bengali</option><option>English</option><option>Gujarati</option><option>Hindi</option>
                  <option>Kannada</option><option>Konkani</option><option>Malayalam</option><option>Marathi</option>
                  <option>Odia</option><option>Punjabi</option><option>Sindhi</option><option>Tamil</option>
                  <option>Telugu</option><option>Tulu</option><option>Urdu</option>
                </select>
                <div class="hint" data-i18n="multi_hint">Ctrl/Cmd to multi-select (desktop). Tap each on mobile.</div>
              </div>
              <div>
                <label for="pfp" data-i18n="pfp_label">Profile photo* (your face)</label>
                <input id="pfp" name="pfp" type="file" accept="image/*" required />
                <div class="hint" data-i18n="pfp_hint">For safety, face photos only. We'll add server-side checks later.</div>
              </div>
            </div>

            <div class="row two">
              <div>
                <label data-i18n="preview">Preview</label>
                <img id="pfpPreview" alt="Preview" style="width:120px;height:120px;border:1px solid var(--border);border-radius:12px;object-fit:cover;background:#fff" />
              </div>
            </div>

            <div class="row two">
              <button type="submit" class="btn" data-i18n="save_profile">Save profile</button>
              <button type="reset" class="btn secondary" data-i18n="reset">Reset</button>
            </div>
            <div id="saveMsg" class="hint" style="display:none" data-i18n="saved_locally">✅ Saved locally. In production this posts to your backend.</div>
          </form>
        </div>

        <div class="card" style="margin-top:1rem;">
          <h3 data-i18n="find_matches">Find Matches (demo)</h3>
          <form id="filterForm">
            <div class="row three">
              <div><label data-i18n="city">City</label><input id="fCity" placeholder="e.g., Mangaluru" /></div>
              <div><label data-i18n="state">State</label><input id="fState" placeholder="e.g., Karnataka" /></div>
              <div><label data-i18n="country">Country</label><input id="fCountry" placeholder="e.g., India" /></div>
            </div>
            <div class="row two">
              <div><label data-i18n="min_age">Min age</label><input id="fAgeMin" type="number" min="18" max="99" placeholder="18" /></div>
              <div><label data-i18n="max_age">Max age</label><input id="fAgeMax" type="number" min="18" max="99" placeholder="40" /></div>
            </div>
            <div>
              <label data-i18n="language_any">Language (any)</label>
              <select id="fLang">
                <option value="">— Any —</option>
                <option>Assamese</option><option>Bengali</option><option>English</option><option>Gujarati</option>
                <option>Hindi</option><option>Kannada</option><option>Konkani</option>
                <option>Malayalam</option><option>Marathi</option><option>Odia</option>
                <option>Punjabi</option><option>Sindhi</option><option>Tamil</option>
                <option>Telugu</option><option>Tulu</option><option>Urdu</option>
              </select>
            </div>
            <div class="row two">
              <button class="btn" id="btnSearch" data-i18n="search_btn">Search</button>
              <button type="button" class="btn secondary" id="btnClearFilters" data-i18n="clear_btn">Clear</button>
            </div>
          </form>
          <div class="divider"></div>
          <div id="results" class="people"></div>
        </div>
      </section>

      <!-- Screen 3: Security -->
      <section id="screen-security" class="screen">
        <div class="card">
          <h2 data-i18n="security_title">Security, Privacy & Account</h2>
          <ul class="hint">
            <li data-i18n="sec1"><strong>Face photo required</strong> — reduces impersonation.</li>
            <li data-i18n="sec2"><strong>Privacy by default</strong> — encrypt in transit, minimal data by design.</li>
            <li data-i18n="sec3"><strong>Report/Block</strong> — one‑tap controls.</li>
            <li data-i18n="sec4"><strong>Data rights</strong> — export/delete on request.</li>
          </ul>
        </div>
        <div class="card" style="margin-top:1rem;">
          <h3 data-i18n="login_demo">Login (demo)</h3>
          <form id="loginForm">
            <div class="row two">
              <div><label data-i18n="email_phone">Email or Phone</label><input id="loginId" placeholder="you@example.com or +91…" /></div>
              <div><label data-i18n="password">Password</label><input id="password" type="password" placeholder="••••••••" /></div>
            </div>
            <div class="row two">
              <button class="btn" data-i18n="login">Log in</button>
              <button type="button" class="btn secondary" id="btnForgot" data-i18n="forgot">Forgot?</button>
            </div>
            <div id="loginMsg" class="hint" style="display:none" data-i18n="demo_only">Demo only. Connect real auth later.</div>
          </form>
        </div>
      </section>
    </main>

    <!-- Bottom Tabs -->
    <nav class="tabs" aria-label="Bottom navigation">
      <div class="bar">
        <button class="tab-btn active" data-target="screen-mission" data-i18n="tab_mission">Mission</button>
        <button class="tab-btn" data-target="screen-register" data-i18n="tab_register">Register</button>
        <button class="tab-btn" data-target="screen-security" data-i18n="tab_security">Security</button>
      </div>
    </nav>

    <div class="toast" id="toast"></div>

    <!-- Language Picker Modal -->
    <div class="modal" id="langModal" role="dialog" aria-modal="true" aria-labelledby="langModalTitle">
      <div class="panel">
        <h3 id="langModalTitle" data-i18n="choose_lang_title">Choose your app language</h3>
        <p class="hint" data-i18n="choose_lang_hint">You can change this anytime from the top right.</p>
        <div class="row two">
          <div>
            <label for="modalLang" data-i18n="ui_language">UI Language</label>
            <select id="modalLang">
              <option value="en">English</option>
              <option value="hi">हिन्दी</option>
              <option value="ta">தமிழ்</option>
              <option value="kok">कोकणी</option>
            </select>
          </div>
          <div style="align-self:end">
            <button class="btn" id="confirmLang" data-i18n="confirm">Confirm</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // --- i18n (tiny demo) ---
    const I18N = {
      en:{
        subtitle:'Matrimonial for Indian language speakers',
        mission_h:'Where language, values, and families come together',
        mission_p1:'Our mission here at Sangam is to bring people together from around the world, while respecting culture and ensuring safety.',
        mission_p2:'We believe great matches start with respect. That’s why Sangam prioritizes verified profiles (your real face photo), thoughtful discovery by language and region, and privacy by design. You’re in control of what you share, with whom, and when.',
        pill_1:'Inclusive across Indian languages', pill_2:'Privacy‑first', pill_3:'Verified',
        quick_demo:'Quick demo', qd1:'Create a profile on the Register tab.', qd2:'Try filters and see sample profiles.', qd3:'Everything saves locally (no server yet).',
        safety:'Safety', safety_p:'We require a clear face photo, easy report/block, and transparent data controls.',
        discover:'Discover people (sample)', lang_label:'Language', city:'City', search_btn:'Search', clear_btn:'Clear',
        create_profile:'Create your profile', first_name:'First name*', last_name:'Last name*', age:'Age* (18–99)', state:'State/Province*', country:'Country*',
        phone:'Phone number*', email:'Email address*',
        main_langs:'Main languages you speak* (multi‑select)', multi_hint:'Ctrl/Cmd to multi-select (desktop). Tap each on mobile.',
        pfp_label:'Profile photo* (your face)', pfp_hint:"For safety, face photos only. We'll add server-side checks later.", preview:'Preview', save_profile:'Save profile', reset:'Reset', saved_locally:'✅ Saved locally. In production this posts to your backend.',
        find_matches:'Find Matches (demo)', min_age:'Min age', max_age:'Max age', language_any:'Language (any)',
        security_title:'Security, Privacy & Account', sec1:'Face photo required — reduces impersonation.', sec2:'Privacy by default — encrypt in transit, minimal data by design.', sec3:'Report/Block — one‑tap controls.', sec4:'Data rights — export/delete on request.',
        login_demo:'Login (demo)', email_phone:'Email or Phone', password:'Password', login:'Log in', forgot:'Forgot?', demo_only:'Demo only. Connect real auth later.',
        tab_mission:'Mission', tab_register:'Register', tab_security:'Security',
        choose_lang_title:'Choose your app language', choose_lang_hint:'You can change this anytime from the top right.', ui_language:'UI Language', confirm:'Confirm'
      },
      hi:{
        subtitle:'भारतीय भाषाओं के लिए वैवाहिक मंच',
        mission_h:'जहाँ भाषा, मूल्य और परिवार साथ आते हैं',
        mission_p1:'संगम का उद्देश्य दुनिया भर के लोगों को जोड़ना है, संस्कृति का सम्मान करते हुए और सुरक्षा सुनिश्चित करते हुए।',
        mission_p2:'अच्छे रिश्ते सम्मान से शुरू होते हैं। हम सत्यापित फ़ोटो, भाषा/क्षेत्र आधारित खोज और गोपनीयता‑प्रथम सिद्धांतों को प्राथमिकता देते हैं।',
        pill_1:'भारतीय भाषाओं में समावेशी', pill_2:'गोपनीयता‑प्रथम', pill_3:'सत्यापित',
        quick_demo:'त्वरित डेमो', qd1:'रजिस्टर टैब पर प्रोफ़ाइल बनाएं।', qd2:'फ़िल्टर आज़माएँ और नमूना प्रोफ़ाइल देखें।', qd3:'सब कुछ लोकल में सहेजा जाता है (सर्वर नहीं)।',
        safety:'सुरक्षा', safety_p:'स्पष्ट चेहरे की फोटो, रिपोर्ट/ब्लॉक, और पारदर्शी नियंत्रण।',
        discover:'लोगों को खोजें (नमूना)', lang_label:'भाषा', city:'शहर', search_btn:'खोजें', clear_btn:'साफ़ करें',
        create_profile:'अपनी प्रोफ़ाइल बनाएं', first_name:'पहला नाम*', last_name:'अंतिम नाम*', age:'उम्र* (18–99)', state:'राज्य/प्रांत*', country:'देश*',
        phone:'फ़ोन नंबर*', email:'ईमेल पता*',
        main_langs:'आपकी मुख्य भाषाएँ* (मल्टी‑सेलेक्ट)', multi_hint:'डेस्कटॉप पर Ctrl/Cmd, मोबाइल पर टैप करें।',
        pfp_label:'प्रोफ़ाइल फोटो* (चेहरा)', pfp_hint:'सुरक्षा के लिए, केवल चेहरे की फोटो।', preview:'पूर्वावलोकन', save_profile:'प्रोफ़ाइल सहेजें', reset:'रीसेट', saved_locally:'✅ लोकली सहेजा गया।',
        find_matches:'जोड़ी ढूँढें (डेमो)', min_age:'न्यूनतम उम्र', max_age:'अधिकतम उम्र', language_any:'भाषा (कोई भी)',
        security_title:'सुरक्षा, गोपनीयता और खाता', sec1:'चेहरे की फोटो आवश्यक — प्रतिरूपण कम होता है।', sec2:'गोपनीयता पहले — एन्क्रिप्टेड ट्रांज़िट, न्यूनतम डेटा।', sec3:'रिपोर्ट/ब्लॉक — एक टैप।', sec4:'डेटा अधिकार — निर्यात/हटाएँ।',
        login_demo:'लॉगिन (डेमो)', email_phone:'ईमेल या फ़ोन', password:'पासवर्ड', login:'लॉग इन', forgot:'भूल गए?', demo_only:'डेमो मात्र।',
        tab_mission:'मिशन', tab_register:'रजिस्टर', tab_security:'सुरक्षा',
        choose_lang_title:'ऐप भाषा चुनें', choose_lang_hint:'आप कभी भी दाईं ओर से बदल सकते हैं।', ui_language:'यूआई भाषा', confirm:'पुष्टि करें'
      },
      ta:{
        subtitle:'இந்திய மொழிக்கான மணமுறையியல்',
        mission_h:'மொழி, மதிப்புகள், குடும்பங்கள் கூடும் இடம்',
        mission_p1:'சங்கம் உலகம் முழுதும் உள்ளவர்களை கலாசாரத்தை மதித்து பாதுகாப்புடன் இணைக்கிறது.',
        mission_p2:'மரியாதை தான் நல்ல இணைவு தொடக்கம். முகப் புகைப்பட சரிபார்ப்பு, மொழி/பகுதி தேடல், தனியுரிமை முக்கியம்.',
        pill_1:'இந்திய மொழிகள் அனைத்தும்', pill_2:'தனியுரிமை முன்னிலை', pill_3:'சரிபார்ப்பு',
        quick_demo:'விரைவு டெமோ', qd1:'ரெஜிஸ்டர் தாவலில் சுயவிவரம் உருவாக்கவும்.', qd2:'வடிப்பான்களை முயற்சி செய்து மாதிரி சுயவிவரங்களை பாருங்கள்.', qd3:'அனைத்தும் உள்ளூரில் சேமிக்கப்படும்.',
        safety:'பாதுகாப்பு', safety_p:'தெளிவான முகப் புகைப்படம், புகார்/தடை, வெளிப்படையான கட்டுப்பாடுகள்.',
        discover:'மக்களை கண்டறி (மாதிரி)', lang_label:'மொழி', city:'நகரம்', search_btn:'தேடு', clear_btn:'அழி',
        create_profile:'சுயவிவரம் உருவாக்கு', first_name:'முதல் பெயர்*', last_name:'கடைசி பெயர்*', age:'வயது* (18–99)', state:'மாநிலம்/மாவட்டம்*', country:'நாடு*',
        phone:'தொலைபேசி எண்*', email:'மின்னஞ்சல் முகவரி*',
        main_langs:'நீங்கள் பேசும் முக்கிய மொழிகள்*', multi_hint:'டெஸ்க்டாப்பில் Ctrl/Cmd, மொபைலில் தட்டவும்.',
        pfp_label:'சுயவிவரப் படம்* (முகம்)', pfp_hint:'பாதுகாப்புக்காக முகப் புகைப்படம் மட்டுமே.', preview:'முன்நோக்கு', save_profile:'சேமி', reset:'ரீசெட்', saved_locally:'✅ உள்ளூரில் சேமிக்கப்பட்டது.',
        find_matches:'இணையாளர் தேடல் (டெமோ)', min_age:'குறைந்த வயது', max_age:'அதிகபட்சம்', language_any:'மொழி (எதுவும்)',
        security_title:'பாதுகாப்பு, தனியுரிமை & கணக்கு', sec1:'முகப் படம் அவசியம்', sec2:'தனியுரிமை முதலில்', sec3:'புகார்/தடை', sec4:'தரவு உரிமை',
        login_demo:'உள்நுழை (டெமோ)', email_phone:'மின்னஞ்சல் அல்லது போன்', password:'கடவுச்சொல்', login:'உள்நுழை', forgot:'மறந்துவிட்டீர்களா?', demo_only:'டெமோ மட்டும்.',
        tab_mission:'பணி', tab_register:'பதிவு', tab_security:'பாதுகாப்பு',
        choose_lang_title:'பயன்பாட்டு மொழியைத் தேர்வுசெய்க', choose_lang_hint:'மேல் வலப்புறத்தில் எப்போது வேண்டுமானாலும் மாற்றலாம்.', ui_language:'UI மொழி', confirm:'உறுதி'
      },
      kok:{
        subtitle:'भारतीय भाषांक भायर लग्न‑संबंध मंच',
        mission_h:'भास, मुल्यो आनि परिवार एकत्र येता',
        mission_p1:'संगमाचो उद्देश विश्वाचेर लोकांक एकत्र घेवपाचो—संस्कृतीक मान दिऊन, सुरक्षिततेन.',
        mission_p2:'उत्तम जोडपी मानापासून सुरू जातात. खऱ्या चेहर्याचो फोटो, भास/प्रदेश शोध, गोपनीयता—हें आमकां महत्वाचें.',
        pill_1:'भारतीय भाषांचो समावेश', pill_2:'गोपनीयता पहिल्या क्रमाक', pill_3:'सत्यापित',
        quick_demo:'दाखोवपी', qd1:'रजिस्टर टॅबांत प्रोफाइल तयार करा.', qd2:'फिल्टर वापरून नमुने पहा.', qd3:'सगळें लोकली सायटां.',
        safety:'सुरक्षितता', safety_p:'सपष्ट चेहर्याचो फोटो, रिपोर्ट/ब्लॉक, स्पष्ट नियंत्रण.',
        discover:'लोकां शोधा (नमुनो)', lang_label:'भास', city:'शहर', search_btn:'शोध', clear_btn:'काडून उडयात',
        create_profile:'तुमचो प्रोफाइल तयार करचो', first_name:'पहिलें नाव*', last_name:'आडनाव*', age:'वय* (18–99)', state:'राज्य/प्रांत*', country:'देश*',
        phone:'फोन नंबर*', email:'ईमेल पत्तो*',
        main_langs:'तुमी मुखेलो भास*', multi_hint:'डेस्कटॉप: Ctrl/Cmd. मोबायल: टॅप.',
        pfp_label:'प्रोफाइल फोटो* (चेहरो)', pfp_hint:'सुरक्षितते खातीर चेहर्याचो फोटो', preview:'प्रिव्ह्यू', save_profile:'सेव्ह', reset:'रीसेट', saved_locally:'✅ लोकली सायतलां.',
        find_matches:'जोडपी शोध (डेमो)', min_age:'कमीत कमी वय', max_age:'जास्तीत जास्त', language_any:'भास (काय्ंही)',
        security_title:'सुरक्षितता, गोपनीयता आनि खातो', sec1:'चेहर्याचो फोटो जरूरी', sec2:'गोपनीयता पयली', sec3:'रिपोर्ट/ब्लॉक', sec4:'डेटा अधिकार',
        login_demo:'लॉगिन (डेमो)', email_phone:'ईमेल वो फोन', password:'पासवर्ड', login:'लॉगिन', forgot:'विसरलां?', demo_only:'डेमो मात्सर.',
        tab_mission:'मिशन', tab_register:'नोंदणी', tab_security:'सुरक्षितता',
        choose_lang_title:'अ‍ॅपाचो भास निवडट', choose_lang_hint:'उपर उजव्या बाजेन बदलुंक शकता.', ui_language:'UI भास', confirm:'निश्चीत'
      }
    };

    const $ = (q,root=document)=>root.querySelector(q);
    const $$ = (q,root=document)=>Array.from(root.querySelectorAll(q));

    function applyLang(lang){
      const dict = I18N[lang]||I18N.en;
      $$('[data-i18n]').forEach(el=>{
        const key = el.getAttribute('data-i18n');
        if(dict[key]) el.textContent = dict[key];
      });
      $('#uiLang').value = lang;
      localStorage.setItem('uiLang', lang);
      toast((I18N[lang]?.tab_mission||'Language')+': '+lang.toUpperCase());
    }

    // On start: load saved lang, else guess from browser and show modal
    const saved = localStorage.getItem('uiLang');
    const browserLang = (navigator.language||'en').slice(0,2);
    const supported = ['en','hi','ta','kok'];
    const initialLang = saved || (supported.includes(browserLang)?browserLang:'en');

    document.addEventListener('DOMContentLoaded', ()=>{
      applyLang(initialLang);
      if(!saved){
        $('#modalLang').value = initialLang;
        $('#langModal').style.display = 'flex';
      }
    });

    $('#uiLang').addEventListener('change', e=> applyLang(e.target.value));
    $('#confirmLang').addEventListener('click', ()=>{
      const l = $('#modalLang').value; applyLang(l); $('#langModal').style.display = 'none';
    });

    // Tabs
    const tabs = $$('.tab-btn');
    const screens = $$('.screen');
    tabs.forEach(btn=>btn.addEventListener('click',()=>{
      tabs.forEach(b=>b.classList.remove('active'));
      btn.classList.add('active');
      const id = btn.dataset.target;
      screens.forEach(s=>s.classList.toggle('active', s.id===id));
      window.scrollTo({top:0,behavior:'smooth'});
    }));

    // Toast
    const toastEl = $('#toast');
    function toast(msg){
      toastEl.textContent = msg; toastEl.style.display='block';
      clearTimeout(window.__toast); window.__toast = setTimeout(()=> toastEl.style.display='none', 1600);
    }

    // Registration
    const regForm = $('#registerForm');
    const saveMsg = $('#saveMsg');
    const pfp = $('#pfp');
    const pfpPreview = $('#pfpPreview');
    pfp.addEventListener('change', e=>{ const f=e.target.files?.[0]; if(!f) return; pfpPreview.src = URL.createObjectURL(f); });
    regForm.addEventListener('submit', (e)=>{
      e.preventDefault();
      const fd = new FormData(regForm);
      const langs = Array.from($('#languages').selectedOptions).map(o=>o.value);
      const profile = {
        firstName: fd.get('firstName')?.toString().trim(),
        lastName: fd.get('lastName')?.toString().trim(),
        age: Number(fd.get('age'))||0,
        city: fd.get('city')?.toString().trim(),
        state: fd.get('state')?.toString().trim(),
        country: fd.get('country')?.toString().trim(),
        phone: fd.get('phone')?.toString().trim(),
        email: fd.get('email')?.toString().trim(),
        languages: langs,
        photo: pfpPreview.src||''
      };
      const ok = profile.firstName && profile.lastName && profile.age>=18 && profile.city && profile.state && profile.country && profile.phone && profile.email && profile.languages.length && profile.photo;
      if(!ok){ toast('Please complete all required fields.'); return; }
      localStorage.setItem('sangamProfile', JSON.stringify(profile));
      saveMsg.style.display='block'; toast('Profile saved');
      MOCK_PROFILES.unshift({ name: profile.firstName, last: profile.lastName, age: profile.age, city: profile.city, state: profile.state, country: profile.country, languages: profile.languages, photo: profile.photo });
    });

    // Sample dataset & rendering
    const MOCK_PROFILES = [
      { name:'Ananya', last:'Pai', age:27, city:'Mangaluru', state:'Karnataka', country:'India', languages:['Konkani','Kannada','English'], photo:'' },
      { name:'Rahul', last:'Sharma', age:30, city:'Mumbai', state:'Maharashtra', country:'India', languages:['Hindi','Marathi','English'], photo:'' },
      { name:'Meera', last:'Iyer', age:29, city:'Chennai', state:'Tamil Nadu', country:'India', languages:['Tamil','English'], photo:'' },
      { name:'Dev', last:'Nair', age:31, city:'Kochi', state:'Kerala', country:'India', languages:['Malayalam','Hindi','English'], photo:'' },
      { name:'Aditi', last:'Desai', age:26, city:'Ahmedabad', state:'Gujarat', country:'India', languages:['Gujarati','Hindi','English'], photo:'' },
      { name:'Zoya', last:'Khan', age:28, city:'Hyderabad', state:'Telangana', country:'India', languages:['Urdu','Hindi','English'], photo:'' },
      { name:'Arun', last:'Rao', age:33, city:'Bengaluru', state:'Karnataka', country:'India', languages:['Kannada','Konkani','English'], photo:'' }
    ];

    function card(p){
      const img = p.photo || 'data:image/svg+xml;utf8,'+encodeURIComponent(`<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"600\" height=\"360\"><rect width=\"100%\" height=\"100%\" fill=\"#f3f4f6\"/><text x=\"50%\" y=\"50%\" dominant-baseline=\"middle\" text-anchor=\"middle\" fill=\"#6b7280\" font-family=\"Inter,Arial\" font-size=\"22\">${p.name} ${p.last}</text></svg>`);
      return `<article class="person">
        <img alt="${p.name} ${p.last}" src="${img}">
        <div class="meta">
          <h4>${p.name} ${p.last}, ${p.age}</h4>
          <div class="hint">${p.city}, ${p.state}, ${p.country}</div>
          <div class="tags">${p.languages.map(l=>`<span class='tag'>${l}</span>`).join('')}</div>
        </div>
      </article>`
    }

    function renderList(arr, mount){ mount.innerHTML = arr.map(card).join(''); }

    // Home search
    const homeResults = $('#homeResults');
    function doHomeSearch(){
      const L = $('#homeLang').value; const C = $('#homeCity').value.trim().toLowerCase();
      const out = MOCK_PROFILES.filter(p=> (L? p.languages.includes(L):true) && (C? p.city.toLowerCase().includes(C):true));
      renderList(out, homeResults); if(!out.length) homeResults.innerHTML = '<p class="hint">No matches (demo dataset). Try changing filters.</p>';
    }
    $('#homeSearch').addEventListener('click', e=>{e.preventDefault(); doHomeSearch();});
    $('#homeClear').addEventListener('click', e=>{e.preventDefault(); $('#homeLang').value=''; $('#homeCity').value=''; doHomeSearch();});
    doHomeSearch();

    // Register tab search
    const results = $('#results');
    $('#btnSearch').addEventListener('click', e=>{
      e.preventDefault();
      const city = $('#fCity').value.trim().toLowerCase();
      const state = $('#fState').value.trim().toLowerCase();
      const country = $('#fCountry').value.trim().toLowerCase();
      const min = Number($('#fAgeMin').value)||0;
      const max = Number($('#fAgeMax').value)||200;
      const lang = $('#fLang').value;
      const out = MOCK_PROFILES.filter(p=>{
        const okCity = city? p.city.toLowerCase().includes(city):true;
        const okState = state? p.state.toLowerCase().includes(state):true;
        const okCountry = country? p.country.toLowerCase().includes(country):true;
        const okAge = p.age>=min && p.age<=max;
        const okLang = lang? p.languages.includes(lang):true;
        return okCity && okState && okCountry && okAge && okLang;
      });
      renderList(out, results);
      if(!out.length) results.innerHTML = '<p class="hint">No matches (demo). Try widening filters.</p>';
    });
    $('#btnClearFilters').addEventListener('click', ()=>{ $('#filterForm').reset(); results.innerHTML=''; });

    // Login demo
    $('#loginForm').addEventListener('submit', e=>{ e.preventDefault(); $('#loginMsg').style.display='block'; toast('Demo login. Add real auth later.'); });
    $('#btnForgot').addEventListener('click', ()=> alert('Demo: send password reset link via backend'));
  </script>
</body>
</html>

